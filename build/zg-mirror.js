// Generated by CoffeeScript 2.7.0
zg.mirror = class {
  constructor(name1, _value, setters, options) {
    this.name = name1;
    Object.defineProperty(this, "v", {
      get: function() {
        return this._value;
      },
      set: function(val) {
        var bind, i, j, len, len1, ref, results, setter;
        // when V is set, also update the bound valus in HTML
        this._value = val;
        ref = zg.queryall(`zg-bind[name=${this.name}]`);
        
        // update DOM
        for (i = 0, len = ref.length; i < len; i++) {
          bind = ref[i];
          bind.innerText = this._value;
        }

        // call custom setters
        results = [];
        for (j = 0, len1 = setters.length; j < len1; j++) {
          setter = setters[j];
          results.push(setter(this._value, this.name, options));
        }
        return results;
      }
    });
    
    // also call the setter
    this.v = _value;
  }

};

zg.mirror_to_localstorage = function(value, name, options) {
  return localStorage[name] = {
    "value": value,
    ...options
  };
};
